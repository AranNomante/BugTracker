@model BugTracker.Models.Bug

@{
    ViewBag.Title = "Details";
}
<div class="row top-buffer col-md-12">
    <div class="col col-md-12">
        <h3 class="display-4">Details</h3>
    </div>
</div>
<div class="row top-buffer col-md-12">
    <div class="col col-md-12">
        <h5 class="badge badge-primary">Details of "@Model.title"</h5>
    </div>
</div>
<div class="row top-buffer col-md-12">
    <div class="col col-md-12">
        <table class="table table-striped text-center table-bordered">
            <tr>
                <th>
                    Severity
                </th>
                <th>
                    State
                </th>
                <th>
                    Submit Time
                </th>
                <th>
                    Version
                </th>
                <th>
                    Fix Time
                </th>
                @if (!ViewBag.msg.Equals("user") && !ViewBag.msg.Equals("no"))
                {
                    <th>
                        Assignee Email
                    </th>
                    <th>
                        User Email
                    </th>
                }

            </tr>
            <tr>
                <td>
                    @Html.DisplayFor(model => model.severity)
                </td>
                <td>
                    @Html.DisplayFor(model => model.state)
                </td>
                <td>
                    @Html.DisplayFor(model => model.submit_time)
                </td>
                <td>
                    @Html.DisplayFor(model => model.version)
                </td>
                <td>
                    @Html.DisplayFor(model => model.fix_time)
                </td>
                @if (!ViewBag.msg.Equals("user") && !ViewBag.msg.Equals("no"))
                {
                    <td>
                        @Html.DisplayFor(model => model.Assignee1.email)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.User.email)
                    </td>
                }
            </tr>
        </table>
        <table>
            <tr>
                <th>
                    User Description
                </th>
                <th>
                    Fix Description
                </th>
            </tr>
            <tr>
                <td>
                    @Html.TextAreaFor(model => model.description, new { @readonly = "readonly" })
                </td>
                <td>
                    @Html.TextAreaFor(model => model.fix_description, new { @readonly = "readonly" })
                </td>
            </tr>
        </table>
    </div>
</div>
<hr />
<div class="row top-buffer col-md-12">
    <div class="col col-md-12">
        <h5 class="badge badge-primary">Image of the issue</h5>
    </div>
</div>

<div class="row top-buffer col-md-12">
    <div class="col col-md-12">
        @if (ViewBag.imgurl != null)
        {
            foreach (String s in ViewBag.imgurl)
            {
                if (s != null)
                {
                    <img src="@s" class="img-fluid" alt="Responsive image" />
                }
            }
        }
        else
        {
            <p>No Screenshot</p>
        }
    </div>
</div>
<div class="row top-buffer text-center col-md-12">
    <div class="col col-md-6">
        <a href="@ViewBag.urlPrev" class="btn btn-outline-primary">Previous Page</a>
    </div>

    @if (!ViewBag.msg.Equals("no") && !ViewBag.msg.Equals("user"))
    {
        if (ViewBag.msg.Equals("admin") || (Model.assignee != null && Model.assignee.Equals(ViewBag.clrassignee)))
        {<div class="col col-md-6">
                @Html.ActionLink("Edit", "Edit", new { id = Model.title, prevPage = Request.Url.ToString() }, new { @class = "btn btn-outline-primary" })
            </div>
        }

    }


</div>
